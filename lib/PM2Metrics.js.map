{"version":3,"sources":["../src/PM2Metrics.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;IAAqB,U;AACnB,wBAA0B;AAAA,QAAd,OAAc,yDAAJ,EAAI;AAAA;;AACxB,SAAK,IAAL,GAAY,QAAQ,IAAR,IAAgB,CAA5B;AACA,SAAK,SAAL,GAAiB,EAAjB;AACD;;uBAED,I,iBAAK,E,EAAI,O,EAAS;AAChB,SAAK,SAAL,CAAe,IAAf,CAAoB,oBAAY,OAAZ,EAAqB,MAArB,CAA4B,UAAC,WAAD,EAAc,UAAd,EAA6B;AAC3E,kBAAY,WAAW,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,CAAZ,IAA6C,QAAQ,UAAR,CAA7C;AACA,aAAO,WAAP;AACD,KAHmB,EAGjB,EAHiB,CAApB;AAIA,WAAO,IAAP;AACD,G;;uBAED,O,sBAAU;AACR,WAAO,KAAK,SAAL,CAAe,MAAf,CAAsB,UAAC,IAAD,EAAO,IAAP;AAAA,wCAAsB,IAAtB,EAA+B,IAA/B;AAAA,KAAtB,EAA8D,EAA9D,CAAP;AACD,G;;uBAED,M,qBAAS;AACP,WAAO,KAAK,SAAL,CAAe,MAAf,IAAyB,KAAK,IAArC;AACD,G;;uBAED,K,oBAAQ;AACN,SAAK,SAAL,GAAiB,EAAjB;AACA,WAAO,KAAK,SAAZ;AACD,G;;;;;kBAzBkB,U","file":"PM2Metrics.js","sourcesContent":["export default class PM2Metrics {\n  constructor(options = {}) {\n    this.size = options.size || 0;\n    this.metricses = [];\n  }\n\n  push(id, metrics) {\n    this.metricses.push(Object.keys(metrics).reduce((prevMetrics, metricsKey) => {\n      prevMetrics[metricsKey.replace('$id', id)] = metrics[metricsKey];\n      return prevMetrics;\n    }, {}));\n    return this;\n  }\n\n  flatten() {\n    return this.metricses.reduce((prev, curr) => ({ ...prev, ...curr }), {});\n  }\n\n  isFull() {\n    return this.metricses.length >= this.size;\n  }\n\n  empty() {\n    this.metricses = [];\n    return this.metricses;\n  }\n}\n"]}